nore_repm10=ifelse(nore_pm10>150, 1, 0),
cen_repm10=ifelse(cen_pm10>150, 1, 0),
suro_repm10=ifelse(suro_pm10>150, 1, 0),
sure_repm10=ifelse(sure_pm10>150, 1, 0),
noro_reozono=ifelse(noro_ozono>160, 1, 0),
nore_reozono=ifelse(nore_ozono>160, 1, 0),
cen_reozono=ifelse(cen_ozono>160, 1, 0),
suro_reozono=ifelse(suro_ozono>160, 1, 0),
sure_reozono=ifelse(sure_ozono>160, 1, 0),
noro_renitro=ifelse(noro_nitro>120, 1, 0),
nore_renitro=ifelse(nore_nitro>120, 1, 0),
cen_renitro=ifelse(cen_nitro>120, 1, 0),
suro_renitro=ifelse(suro_nitro>120, 1, 0),
sure_renitro=ifelse(sure_nitro>120, 1, 0),
noro_reazu=ifelse(noro_azu>125, 1, 0),
nore_reazu=ifelse(nore_azu>125, 1, 0),
cen_reazu=ifelse(cen_azu>125, 1, 0),
suro_reazu=ifelse(suro_azu>125, 1, 0),
sure_reazu=ifelse(sure_azu>125, 1, 0),
noro_repm25=ifelse(noro_pm25>75, 1, 0),
nore_repm25=ifelse(nore_pm25>75, 1, 0),
cen_repm25=ifelse(cen_pm25>75, 1, 0),
suro_repm25=ifelse(suro_pm25>75, 1, 0),
sure_repm25=ifelse(sure_pm25>75, 1, 0))
View(data)
#
# Author: Gina Jiménez
# ------------------------------------------------------------------------------------
# Calidad del aire, Enero 2023
library("pacman")
p_load(tidyverse, foreign, janitor, here, zoo)
#### Directorios####
dir <- "/Users/georginajimenez92/Documents/inputs-datos/0123_calidadaire/indice-calidad/"
names <- dir(dir)
#### Funciones ####
mas_cero <- function(x){
x <- ifelse(x>0, 1, 0)
}
### Empezamos con 2013 a 2018 ####
data <- data.frame()
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb", "sure_pm10")
for (i in 1:6) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:27]
data <- bind_rows(data, tempo)
}
rm(tempo)
data <- mutate(data, fecha=as.Date(fecha, format="%d/%m/%Y"),)
View(data)
### Luego 2019 a 2022 ####
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "noro_pm25", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "nore_pm25", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "cen_pm25", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "suro_pm25", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb",
"sure_pm10", "sure_pm25")
aver <- data.frame()
for (i in 7:10) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:32]
aver <- bind_rows(aver, tempo)
}
rm(tempo)
View(aver)
View(aver)
#
# Author: Gina Jiménez
# ------------------------------------------------------------------------------------
# Calidad del aire, Enero 2023
library("pacman")
p_load(tidyverse, foreign, janitor, here, zoo)
#### Directorios####
dir <- "/Users/georginajimenez92/Documents/inputs-datos/0123_calidadaire/indice-calidad/"
names <- dir(dir)
#### Funciones ####
mas_cero <- function(x){
x <- ifelse(x>0, 1, 0)
}
### Empezamos con 2013 a 2018 ####
data <- data.frame()
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb", "sure_pm10")
for (i in 1:6) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:27]
data <- bind_rows(data, tempo)
}
rm(tempo)
### Luego 2019 a 2022 ####
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "noro_pm25", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "nore_pm25", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "cen_pm25", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "suro_pm25", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb",
"sure_pm10", "sure_pm25")
aver <- data.frame()
for (i in 7:10) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:32]
aver <- bind_rows(aver, tempo)
}
rm(tempo)
View(data)
View(aver)
tempo <- read.csv(paste0(dir, names[1]), skip=9, header=F)
View(tempo)
tempo <- read.csv(paste0(dir, names[1]), skip=9, header=F)
View(tempo)
tempo <- tempo[, 1:32]
View(tempo)
names
tempo <- read.csv(paste0(dir, names[7]), skip=9, header=F)
View(tempo)
View(tempo)
tempo <- read.csv(paste0(dir, names[7]), skip=9, header=F)
View(tempo)
tempo <- read.csv(paste0(dir, names[8]), skip=9, header=F)
View(tempo)
tempo <- read.csv(paste0(dir, names[9]), skip=9, header=F)
View(tempo)
tempo <- read.csv(paste0(dir, names[10]), skip=9, header=F)
tempo <- read.csv(paste0(dir, names[10]), skip=9, header=F)
View(tempo)
#
# Author: Gina Jiménez
# ------------------------------------------------------------------------------------
# Calidad del aire, Enero 2023
library("pacman")
p_load(tidyverse, foreign, janitor, here, zoo)
#### Directorios####
dir <- "/Users/georginajimenez92/Documents/inputs-datos/0123_calidadaire/indice-calidad/"
names <- dir(dir)
#### Funciones ####
mas_cero <- function(x){
x <- ifelse(x>0, 1, 0)
}
### Empezamos con 2013 a 2018 ####
data <- data.frame()
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb", "sure_pm10")
for (i in 1:6) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:27]
data <- bind_rows(data, tempo)
}
rm(tempo)
### Luego 2019 a 2022 ####
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "noro_pm25", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "nore_pm25", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "cen_pm25", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "suro_pm25", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb",
"sure_pm10", "sure_pm25")
for (i in 7:10) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:32]
data <- bind_rows(data, tempo)
}
rm(tempo)
View(data)
data[!is.na(fecha),]
data[!is.na(data$fecha),]
data <- data[!is.na(data$fecha),]
View(data)
data <- data[!is.na(data$hora),]
View(data)
### Luego 2019 a 2022 ####
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "noro_pm25", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "nore_pm25", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "cen_pm25", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "suro_pm25", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb",
"sure_pm10", "sure_pm25")
#
# Author: Gina Jiménez
# ------------------------------------------------------------------------------------
# Calidad del aire, Enero 2023
library("pacman")
p_load(tidyverse, foreign, janitor, here, zoo)
#### Directorios####
dir <- "/Users/georginajimenez92/Documents/inputs-datos/0123_calidadaire/indice-calidad/"
names <- dir(dir)
#### Funciones ####
mas_cero <- function(x){
x <- ifelse(x>0, 1, 0)
}
### Empezamos con 2013 a 2018 ####
data <- data.frame()
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb", "sure_pm10")
for (i in 1:6) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:27]
data <- bind_rows(data, tempo)
}
rm(tempo)
### Luego 2019 a 2022 ####
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "noro_pm25", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "nore_pm25", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "cen_pm25", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "suro_pm25", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb",
"sure_pm10", "sure_pm25")
for (i in 7:10) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:32]
data <- bind_rows(data, tempo)
}
rm(tempo)
data <- data[!is.na(data$hora),]
View(data)
#### Todo junto y unido ####
data <- data%>%
mutate(fecha=as.Date(fecha, format="%d/%m/%Y"),
noro_repm10=ifelse(noro_pm10>150, 1, 0),
nore_repm10=ifelse(nore_pm10>150, 1, 0),
cen_repm10=ifelse(cen_pm10>150, 1, 0),
suro_repm10=ifelse(suro_pm10>150, 1, 0),
sure_repm10=ifelse(sure_pm10>150, 1, 0),
noro_reozono=ifelse(noro_ozono>160, 1, 0),
nore_reozono=ifelse(nore_ozono>160, 1, 0),
cen_reozono=ifelse(cen_ozono>160, 1, 0),
suro_reozono=ifelse(suro_ozono>160, 1, 0),
sure_reozono=ifelse(sure_ozono>160, 1, 0),
noro_renitro=ifelse(noro_nitro>120, 1, 0),
nore_renitro=ifelse(nore_nitro>120, 1, 0),
cen_renitro=ifelse(cen_nitro>120, 1, 0),
suro_renitro=ifelse(suro_nitro>120, 1, 0),
sure_renitro=ifelse(sure_nitro>120, 1, 0),
noro_reazu=ifelse(noro_azu>125, 1, 0),
nore_reazu=ifelse(nore_azu>125, 1, 0),
cen_reazu=ifelse(cen_azu>125, 1, 0),
suro_reazu=ifelse(suro_azu>125, 1, 0),
sure_reazu=ifelse(sure_azu>125, 1, 0),
noro_repm25=ifelse(noro_pm25>75, 1, 0),
nore_repm25=ifelse(nore_pm25>75, 1, 0),
cen_repm25=ifelse(cen_pm25>75, 1, 0),
suro_repm25=ifelse(suro_pm25>75, 1, 0),
sure_repm25=ifelse(sure_pm25>75, 1, 0))
View(data)
View(data)
data <- mutate(data, repm10 = rowSums(data[33:37]),
reozono = rowSums(data[38:42]),
renitro = rowSums(data[43:47]),
reazu = rowSums(data[49:52]),
repm25 = rowSums(data[53:57]))%>%
group_by(fecha)%>%
summarize(repm10=sum(repm10, na.rm=T),
reozono=sum(reozono, na.rm=T),
renitro=sum(renitro, na.rm=T),
reazu=sum(reazu, na.rm=T),
repm25=sum(repm25, na.rm=T))%>%
mutate_at(vars(c(repm10:repm25)), mas_cero)%>%
mutate(quart=as.yearqtr(fecha))
saveRDS(data, here("import-clean/output/base_calidad.rds"))
#
# Author: Georgina Jimenez
# -----------------------------------------------------------
# calidad_aire/graphs/src/graficas.R
#### Paquetería ####
rm(list=ls())
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, here, ggplot2, ggalt, zoo, lubridate)
options(scipen=999)
files <- list(data = here("import-clean/output/base_calidad.rds"),
tema = here("graphs/src/theme.R"))
data <- readRDS(files$data)
#### Tema  ####
source(files$tema)
#### Gráficas sobre días de calidad del aire
data%>%
group_by(quart)%>%
summarize(repm10=sum(repm10, na.rm=T))%>%
ungroup()%>%
ggplot(aes(x=quart, y=repm10))+
geom_line()+
geom_point()+
tema+
ylim(c(-1, 2))+
labs(title="Número de días en los que el PM10 superó \n el límite recomendado",
subtitle="Por trimestre del año")
data%>%
group_by(quart)%>%
summarize(reozono=sum(reozono, na.rm=T))%>%
ungroup()%>%
ggplot(aes(x=quart, y=reozono))+
geom_line()+
geom_point()+
tema+
labs(title="Número de días en los que el ozono superó \n el límite recomendado",
subtitle="Por trimestre del año")
data%>%
group_by(quart)%>%
summarize(reazu=sum(reazu, na.rm=T))%>%
ungroup()%>%
ggplot(aes(x=quart, y=reazu))+
geom_line()+
geom_point()+
tema+
labs(title="Número de días en los que el dióxido azufre superó \n el límite recomendado",
subtitle="Por trimestre del año")
data%>%
group_by(quart)%>%
summarize(renitro=sum(renitro, na.rm=T))%>%
ungroup()%>%
ggplot(aes(x=quart, y=renitro))+
geom_line()+
geom_point()+
tema+
labs(title="Número de días en los que el nitrógeno superó el límite recomendado",
subtitle="Por trimestre del año")
data%>%
group_by(quart)%>%
summarize(repm25=sum(repm25, na.rm=T))%>%
ungroup()%>%
ggplot(aes(x=quart, y=repm25))+
geom_line()+
geom_point()+
tema+
labs(title="Número de días en los que el nitrógeno superó el límite recomendado",
subtitle="Por trimestre del año")
#
# Author: Georgina Jimenez
# -----------------------------------------------------------
# calidad_aire/graphs/src/graficas.R
#### Paquetería ####
rm(list=ls())
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, here, ggplot2, ggalt, zoo, lubridate)
options(scipen=999)
files <- list(data = here("import-clean/output/base_calidad.rds"),
tema = here("graphs/src/theme.R"))
data <- readRDS(files$data)
#### Tema  ####
source(files$tema)
View(data)
#
# Author: Gina Jiménez
# ------------------------------------------------------------------------------------
# Calidad del aire, Enero 2023
library("pacman")
p_load(tidyverse, foreign, janitor, here, zoo)
#### Directorios####
dir <- "/Users/georginajimenez92/Documents/inputs-datos/0123_calidadaire/indice-calidad/"
names <- dir(dir)
#### Funciones ####
mas_cero <- function(x){
x <- ifelse(x>0, 1, 0)
}
### Empezamos con 2013 a 2018 ####
data <- data.frame()
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb", "sure_pm10")
for (i in 1:6) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:27]
data <- bind_rows(data, tempo)
}
rm(tempo)
### Luego 2019 a 2022 ####
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "noro_pm25", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "nore_pm25", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "cen_pm25", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "suro_pm25", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb",
"sure_pm10", "sure_pm25")
for (i in 7:10) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:32]
data <- bind_rows(data, tempo)
}
rm(tempo)
data <- data[!is.na(data$hora),]
#### Todo junto y unido ####
data <- data%>%
mutate(fecha=as.Date(fecha, format="%d/%m/%Y"),
noro_repm10=ifelse(noro_pm10>150, 1, 0),
nore_repm10=ifelse(nore_pm10>150, 1, 0),
cen_repm10=ifelse(cen_pm10>150, 1, 0),
suro_repm10=ifelse(suro_pm10>150, 1, 0),
sure_repm10=ifelse(sure_pm10>150, 1, 0),
noro_reozono=ifelse(noro_ozono>160, 1, 0),
nore_reozono=ifelse(nore_ozono>160, 1, 0),
cen_reozono=ifelse(cen_ozono>160, 1, 0),
suro_reozono=ifelse(suro_ozono>160, 1, 0),
sure_reozono=ifelse(sure_ozono>160, 1, 0),
noro_renitro=ifelse(noro_nitro>120, 1, 0),
nore_renitro=ifelse(nore_nitro>120, 1, 0),
cen_renitro=ifelse(cen_nitro>120, 1, 0),
suro_renitro=ifelse(suro_nitro>120, 1, 0),
sure_renitro=ifelse(sure_nitro>120, 1, 0),
noro_reazu=ifelse(noro_azu>125, 1, 0),
nore_reazu=ifelse(nore_azu>125, 1, 0),
cen_reazu=ifelse(cen_azu>125, 1, 0),
suro_reazu=ifelse(suro_azu>125, 1, 0),
sure_reazu=ifelse(sure_azu>125, 1, 0),
noro_repm25=ifelse(noro_pm25>75, 1, 0),
nore_repm25=ifelse(nore_pm25>75, 1, 0),
cen_repm25=ifelse(cen_pm25>75, 1, 0),
suro_repm25=ifelse(suro_pm25>75, 1, 0),
sure_repm25=ifelse(sure_pm25>75, 1, 0))
#
# Author: Gina Jiménez
# ------------------------------------------------------------------------------------
# Calidad del aire, Enero 2023
library("pacman")
p_load(tidyverse, foreign, janitor, here, zoo)
#### Directorios####
dir <- "/Users/georginajimenez92/Documents/inputs-datos/0123_calidadaire/indice-calidad/"
names <- dir(dir)
#### Funciones ####
mas_cero <- function(x){
x <- ifelse(x>0, 1, 0)
}
### Empezamos con 2013 a 2018 ####
data <- data.frame()
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb", "sure_pm10")
for (i in 1:6) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:27]
data <- bind_rows(data, tempo)
}
rm(tempo)
### Luego 2019 a 2022 ####
col_names <- c("fecha", "hora", "noro_ozono", "noro_azu", "noro_nitro", "noro_carb",
"noro_pm10", "noro_pm25", "nore_ozono", "nore_azu", "nore_nitro", "nore_carb",
"nore_pm10", "nore_pm25", "cen_ozono", "cen_azu", "cen_nitro", "cen_carb",
"cen_pm10", "cen_pm25", "suro_ozono", "suro_azu", "suro_nitro", "suro_carb",
"suro_pm10", "suro_pm25", "sure_ozono", "sure_azu", "sure_nitro", "sure_carb",
"sure_pm10", "sure_pm25")
for (i in 7:10) {
tempo <- read.csv(paste0(dir, names[i]), skip=9, header=F)
names(tempo) <- col_names
tempo <- tempo[, 1:32]
data <- bind_rows(data, tempo)
}
rm(tempo)
data <- data[!is.na(data$hora),]
#### Todo junto y unido ####
data <- data%>%
mutate(fecha=as.Date(fecha, format="%d/%m/%Y"),
noro_repm10=ifelse(noro_pm10>150, 1, 0),
nore_repm10=ifelse(nore_pm10>150, 1, 0),
cen_repm10=ifelse(cen_pm10>150, 1, 0),
suro_repm10=ifelse(suro_pm10>150, 1, 0),
sure_repm10=ifelse(sure_pm10>150, 1, 0),
noro_reozono=ifelse(noro_ozono>160, 1, 0),
nore_reozono=ifelse(nore_ozono>160, 1, 0),
cen_reozono=ifelse(cen_ozono>160, 1, 0),
suro_reozono=ifelse(suro_ozono>160, 1, 0),
sure_reozono=ifelse(sure_ozono>160, 1, 0),
noro_renitro=ifelse(noro_nitro>120, 1, 0),
nore_renitro=ifelse(nore_nitro>120, 1, 0),
cen_renitro=ifelse(cen_nitro>120, 1, 0),
suro_renitro=ifelse(suro_nitro>120, 1, 0),
sure_renitro=ifelse(sure_nitro>120, 1, 0),
noro_reazu=ifelse(noro_azu>125, 1, 0),
nore_reazu=ifelse(nore_azu>125, 1, 0),
cen_reazu=ifelse(cen_azu>125, 1, 0),
suro_reazu=ifelse(suro_azu>125, 1, 0),
sure_reazu=ifelse(sure_azu>125, 1, 0),
noro_repm25=ifelse(noro_pm25>75, 1, 0),
nore_repm25=ifelse(nore_pm25>75, 1, 0),
cen_repm25=ifelse(cen_pm25>75, 1, 0),
suro_repm25=ifelse(suro_pm25>75, 1, 0),
sure_repm25=ifelse(sure_pm25>75, 1, 0))
names(data)
#
# Author: Georgina Jimenez
# -----------------------------------------------------------
# calidad_aire/graphs/src/graficas.R
#### Paquetería ####
rm(list=ls())
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, here, ggplot2, ggalt, zoo, lubridate)
options(scipen=999)
files <- list(data = here("import-clean/output/base_calidad.rds"),
tema = here("graphs/src/theme.R"))
data <- readRDS(files$data)
#### Tema  ####
source(files$tema)
